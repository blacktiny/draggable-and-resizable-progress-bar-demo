{"ast":null,"code":"import _slicedToArray from \"/Volumes/Work/React/draggable-and-resizable-progress-bar/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Volumes/Work/React/draggable-and-resizable-progress-bar/src/views/Dashboard/index.js\";\nimport React, { Component } from 'react';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport ResizableProgressBar from '../../common/components/ResizableProgressBar';\nimport './index.scss'; // a little function to help us with reordering the result\n\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list);\n\n  const _result$splice = result.splice(startIndex, 1),\n        _result$splice2 = _slicedToArray(_result$splice, 1),\n        removed = _result$splice2[0];\n\n  result.splice(endIndex, 0, removed);\n  return result;\n};\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.resizeProgressBarFunc = (index, size) => {\n      const items = this.state.items;\n      items[index].width = size.width;\n      this.setState({\n        items\n      });\n    };\n\n    this.state = {\n      items: [{\n        name: 'aaaaa',\n        width: 300\n      }, {\n        name: 'bbbbb',\n        width: 300\n      }, {\n        name: 'ccccc',\n        width: 300\n      }]\n    };\n    this.onDragEnd = this.onDragEnd.bind(this);\n  }\n\n  onDragEnd(result) {\n    // dropped outside the list\n    if (!result.destination) {\n      return;\n    }\n\n    const items = reorder(this.state.items, result.source.index, result.destination.index);\n    this.setState({\n      items\n    });\n  } // Normally you would want to split things out into separate components.\n  // But in this example everything is just done in one place for simplicity\n\n\n  render() {\n    const progressbarInfo = {\n      resizeFunc: this.resizeProgressBarFunc\n    };\n    return React.createElement(\"div\", {\n      className: \"dashboard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"drag-drop-context\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(DragDropContext, {\n      onDragEnd: this.onDragEnd,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Droppable, {\n      droppableId: \"droppable\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, provided => React.createElement(\"div\", Object.assign({}, provided.droppableProps, {\n      ref: provided.innerRef,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }), this.state.items.map((item, index) => React.createElement(Draggable, {\n      key: item.name,\n      draggableId: item.name,\n      index: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, provided => React.createElement(\"div\", Object.assign({\n      className: \"item-content\",\n      ref: provided.innerRef\n    }, provided.draggableProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"progress-bar-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", Object.assign({}, provided.dragHandleProps, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"time-progress-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(ResizableProgressBar, Object.assign({\n      index: index,\n      name: item.name,\n      width: item.width\n    }, progressbarInfo, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })))))), provided.placeholder)))));\n  }\n\n}\n\nexport default Dashboard;","map":{"version":3,"sources":["/Volumes/Work/React/draggable-and-resizable-progress-bar/src/views/Dashboard/index.js"],"names":["React","Component","DragDropContext","Droppable","Draggable","ResizableProgressBar","reorder","list","startIndex","endIndex","result","Array","from","splice","removed","Dashboard","constructor","props","resizeProgressBarFunc","index","size","items","state","width","setState","name","onDragEnd","bind","destination","source","render","progressbarInfo","resizeFunc","provided","droppableProps","innerRef","map","item","draggableProps","dragHandleProps","placeholder"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd'\n\nimport ResizableProgressBar from '../../common/components/ResizableProgressBar'\n\nimport './index.scss'\n\n// a little function to help us with reordering the result\nconst reorder = (list, startIndex, endIndex) => {\n  const result = Array.from(list)\n  const [removed] = result.splice(startIndex, 1)\n  result.splice(endIndex, 0, removed)\n\n  return result\n}\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      items: [\n        {\n          name: 'aaaaa',\n          width: 300\n        },\n        {\n          name: 'bbbbb',\n          width: 300\n        },\n        {\n          name: 'ccccc',\n          width: 300\n        }\n      ]\n    }\n    this.onDragEnd = this.onDragEnd.bind(this)\n  }\n\n  resizeProgressBarFunc = (index, size) => {\n    const { items } = this.state\n\n    items[index].width = size.width\n\n    this.setState({ items })\n  }\n\n  onDragEnd(result) {\n    // dropped outside the list\n    if (!result.destination) {\n      return\n    }\n\n    const items = reorder(\n      this.state.items,\n      result.source.index,\n      result.destination.index\n    )\n\n    this.setState({\n      items\n    })\n  }\n\n  // Normally you would want to split things out into separate components.\n  // But in this example everything is just done in one place for simplicity\n  render() {\n    const progressbarInfo = {\n      resizeFunc: this.resizeProgressBarFunc\n    }\n\n    return (\n      <div className='dashboard'>\n        <div className='drag-drop-context'>\n          <DragDropContext onDragEnd={this.onDragEnd}>\n            <Droppable droppableId='droppable'>\n              {(provided) => (\n                <div\n                  {...provided.droppableProps}\n                  ref={provided.innerRef}\n                >\n                  {this.state.items.map((item, index) => (\n                    <Draggable key={item.name} draggableId={item.name} index={index}>\n                      {(provided) => (\n                        <div\n                          className='item-content'\n                          ref={provided.innerRef}\n                          {...provided.draggableProps}\n                        >\n                          <div className='progress-bar-group'>\n                            <div {...provided.dragHandleProps}>\n                              <div className='time-progress-bar'></div>\n                            </div>\n                            <ResizableProgressBar index={index} name={item.name} width={item.width} {...progressbarInfo} />\n                          </div>\n                        </div>\n                      )}\n                    </Draggable>\n                  ))}\n                  {provided.placeholder}\n                </div>\n              )}\n            </Droppable>\n          </DragDropContext>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Dashboard\n"]},"metadata":{},"sourceType":"module"}